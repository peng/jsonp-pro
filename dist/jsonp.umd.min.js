!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e=e||self).jsonp=t()}(this,function(){"use strict";function e(e,t){return Object.prototype.toString.call(e)==="[object ".concat(t,"]")}function t(e,t){for(var n=e.childNodes,r=0;r<n.length;r++)n[r]===t&&e.removeChild(t)}return function(n,r){var o,c,a,i=document.querySelector("head"),u=document.createElement("script"),f="",l="callback",s="callback_".concat((new Date).getTime().toString()+Math.ceil(1e10*Math.random()).toString()),m=!1,d=6e4,p=[];if(!n)throw new ReferenceError("No url ! Url is necessary !");if(!e(n,"String"))throw new TypeError("Url must be string !");var w={data:function(){var t=r.data;if(e(t,"Object"))for(var n in t)f+="".concat(n,"=").concat(t[n],"&");else{if(!e(t,"String"))throw new TypeError("data must be object or string !");f=t+"&"}},success:function(){if(!e(a=r.success,"Function"))throw new TypeError("param success must be function !")},error:function(){if(!e(r.error,"Function"))throw new TypeError("param error must be function !");u.addEventListener("error",r.error)},loaded:function(){if(!e(c=r.loaded,"Function"))throw new TypeError("param loaded must be function !")},callback:function(){if(!e(l=r.callback,"String"))throw new TypeError("param callback must be string !")},callbackName:function(){if(!e(s=r.callbackName,"String"))throw new TypeError("param callbackName must be string !")},noCallback:function(){if(!e(m=r.noCallback,"Boolean"))throw new TypeError("param noCallback must be boolean !")},charset:function(){var t=r.charset;if(!e(t,"String"))throw new TypeError("param charset must be string !");u.charset=t},timeoutTime:function(){if(!e(d=r.timeoutTime,"Number"))throw new TypeError("param timeoutTime must be number !")},timeout:function(){if(!e(r.timeout,"Function"))throw new TypeError("param timeout must be function !");function n(){o=setTimeout(function(){t(u.parentNode,u),window.hasOwnProperty(s)&&delete window[s],clearTimeout(o),r.timeout()},d)}p.push(n)}};for(var b in r)w[b]();p.forEach(function(e){e()}),m&&""!=f&&(-1==n.indexOf("?")?n+="?".concat(f.slice(0,-1)):n+="&".concat(f.slice(0,-1))),m||(window[s]=function(e){a&&a(e),t(i,u),delete window[s]},-1==n.indexOf("?")?n+="?".concat(f).concat(l,"=").concat(s):n+="&".concat(f).concat(l,"=").concat(s)),n=encodeURI(n),u.addEventListener("load",function e(){u.removeEventListener("load",e),c&&c(),clearTimeout(o),t(i,u)}),u.src=n,i.appendChild(u)}});
